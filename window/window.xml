<Ui>
	<!-- All Rights Reserved -->

	<Frame name="Scrap2Frame" inherits="PortraitFrameTemplate, Scrap2FrameDesign" parent="UIParent" toplevel="true" enableMouse="true" hidden="true">
		<Frames>
			<EditBox parentKey="SearchBox" inherits="SearchBoxTemplate" letters="50">
				<Size x="300" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT" x="80" y="-35"/>
				</Anchors>
			</EditBox>

			<DropdownButton parentKey="OptionsDropdown" inherits="WowStyle1FilterDropdownTemplate">
				<Anchors>
					<Anchor point="TOPRIGHT" x="-30" y="-35"/>
				</Anchors>
			</DropdownButton>
			<Button parentKey="OptionsWheel" inherits="IconButtonTemplate" alpha="0.8">
				<KeyValues>
					<KeyValue key="icon" value="Interface\Worldmap\Gear_64Grey" type="string"/>
					<KeyValue key="useIconAsHighlight" value="true" type="boolean"/>
					<KeyValue key="iconSize" value="20" type="number"/>
				</KeyValues>
				<Anchors>
					<Anchor point="RIGHT" relativeKey="$parent.OptionsDropdown" relativePoint="LEFT" x="-10"/>
				</Anchors>
			</Button>

			<Frame parentKey="TagsBox" inherits="WowScrollBoxList">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.LeftInset" x="4" y="-5"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.LeftInset" x="-4" y="5"/>
				</Anchors>
			</Frame>

			<Frame parentKey="ItemsBox" inherits="WowScrollBoxList">
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.RightInset" y="4"/>
					<Anchor point="TOPLEFT" relativeKey="$parent.RightInset" y="-4"/>
				</Anchors>
			</Frame>

			<Button parentKey="NewTag" inherits="MagicButtonTemplate" text="New Tag">
				<Size x="118" y="22"/>
				<Anchors> <Anchor point="BOTTOMLEFT"/> </Anchors>
				<Scripts>
					<OnClick> self:GetParent().EditPopup:Display() </OnClick>
				</Scripts>
			</Button>

			<Frame parentKey="EditPopup" inherits='IconSelectorPopupFrameTemplate' hidden="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPRIGHT"/>
				</Anchors>
			</Frame>
		</Frames>
	</Frame>

	<Button name="Scrap2TagButtonTemplate" inherits="Scrap2Ring" registerForClicks="anyUp" virtual="true">
		<Size y="32"/>
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="-1">
				<Texture parentKey="Bg" setAllPoints="true">
					<Color r="0" g="0" b="0" a="0.4"/>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND">
				<Texture parentKey="Icon">
					<Size x="20" y="20"/>
					<Anchors>
						<Anchor point="LEFT" x="8"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BORDER">
				<Texture parentKey="Checked" atlas="Lighttrait-glow" alphaMode="ADD" alpha="0.7">
				 	<Size x="30" y="30"/>
					<Anchors>
						<Anchor point="LEFT" x="3.5"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="HIGHLIGHT">
				<Texture parentKey="IconGlow" alphaMode="ADD" alpha="0.4">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Icon"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Icon"/>
					</Anchors>
				</Texture>
				<MaskTexture parentKey="Mask" atlas="CircleMaskScalable">
					<Size x="20" y="20"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.Ring"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="Bg"/>
						<MaskedTexture childKey="Icon"/>
						<MaskedTexture childKey="IconGlow"/>
					</MaskedTextures>
				</MaskTexture>
			</Layer>
		</Layers>
		<HighlightTexture atlas="Options_List_Active" alphaMode="ADD"/>
		<ButtonText>
			<Anchors>
				<Anchor point="LEFT" x="35"/>
			</Anchors>
		</ButtonText>
		<Scripts>
			<OnClick> Scrap2.Frame.OnTagClick(self, button) </OnClick>
			<OnEnter>
				if self.tag.id > 0 then
					GameTooltip:SetOwner(self, 'ANCHOR_RIGHT')
					GameTooltip:AddLine(self.tag.name, 1,1,1)
					GameTooltip:AddLine('|A:NPE_RightClick:14:14|a' .. OPTIONS)
					GameTooltip:Show()
				end
				PlaySound(286132)
			</OnEnter>
			<OnLeave function="GameTooltip_Hide"/>
		</Scripts>
	</Button>

	<Button name="Scrap2ItemButtonTemplate" inherits="Scrap2ItemSize" registerForClicks="anyUp" virtual="true">
		<Layers>
			<Layer level="HIGHLIGHT">
				<Texture parentKey="BgHighlight" atlas="PetList-ButtonHighlight" alphaMode="ADD">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Bg"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Bg"/>
					</Anchors>
				</Texture>
				<Texture parentKey="BgHighlight" file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Icon"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Icon"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<ButtonText maxLines="3">
			<Anchors>
				<Anchor point="LEFT" relativePoint="RIGHT" relativeKey="$parent.Icon" x="10" y="1"/>
				<Anchor point="RIGHT"/>
			</Anchors>
		</ButtonText>
		<NormalFont style="GameFontHighlightSmallLeft"/>
		<Scripts>
			<OnClick> Scrap2:TagMenu() </OnClick>
			<OnEnter>
				GameTooltip:SetOwner(self, 'ANCHOR_RIGHT')
				GameTooltip:SetItemByID(self.id)
				GameTooltip:Show()
				PlaySound(286119)
			</OnEnter>
			<OnLeave function="GameTooltip_Hide"/>
		</Scripts>
	</Button>

	<Frame name="Scrap2SliderTemplate" virtual="true">
		<Size x="100" y="20"/>
		<Frames>
			<Slider parentKey="Slider" inherits="UnitPopupSliderTemplate" minValue="0" maxValue="100">
				<Size x="0" y="17"/>
				<Anchors>
					<Anchor point="RIGHT" x="-40" y="0"/>
					<Anchor point="LEFT"/>
				</Anchors>
			</Slider>
		</Frames>
	</Frame>

	<Script file="frame.lua"/>
	<Script file="menus.lua"/>
	<Script file="popup.lua"/>
	<Script file="icons.lua"/>
</Ui>